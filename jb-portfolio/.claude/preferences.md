# Claude Code Preferences for This Project

## Code Style

### TypeScript
- Use explicit types for function parameters
- Prefer interfaces for props
- Use type inference for simple variables
- Avoid `any` types

### React/Next.js
- Functional components only (no class components)
- Use `'use client'` directive for client components
- Prefer named exports for components
- Use TypeScript for all new components

### Component Structure
```tsx
// Custom component - Brief description

'use client'; // If needed

import statements...

export default function ComponentName() {
  // Refs
  const ref = useRef();

  // State
  const [state, setState] = useState();

  // Effects
  useEffect(() => {
    // Logic
  }, []);

  // Handlers
  const handleEvent = () => {};

  // Render
  return (...);
}
```

### GSAP Animations
- Always use `gsap.context()` with cleanup
- Always use `immediateRender: false` for ScrollTrigger
- Always add `toggleActions` to ScrollTrigger config
- Scope animations to component with ref

### Styling
- Use Tailwind utility classes (no custom CSS)
- Use `cn()` helper for conditional classes
- Keep consistent spacing (gap-4, p-6, etc.)
- Mobile-first responsive design

## Commenting

### When to Add Comments
- Auto-generated code (e.g., "Auto-generated by shadcn/ui")
- Custom components (e.g., "Custom component - Description")
- Complex logic or algorithms
- Important business rules

### When NOT to Comment
- Self-explanatory code
- Standard React patterns
- Simple Tailwind classes

## File Organization

### New Components
- Put in `components/sections/` if it's a page section
- Put in `components/ui/` if it's reusable UI
- Put in `components/` root if it's layout/navigation

### New Utilities
- Add to `lib/` directory
- Export as named exports

### Assets
- Images go in `public/`
- Group related images in subdirectories

## Git Commit Style

Use conventional commits:
- `feat:` - New feature
- `fix:` - Bug fix
- `docs:` - Documentation only
- `style:` - Formatting, missing semicolons, etc.
- `refactor:` - Code change that neither fixes a bug nor adds a feature
- `perf:` - Performance improvement
- `test:` - Adding tests
- `chore:` - Maintain

Example: `feat: add animated logo hover effect`

## Testing Philosophy

- Manual testing in browser for UI/UX
- Test in both light and dark modes
- Test on mobile viewport sizes
- Verify animations don't cause jank
- Check accessibility with keyboard navigation

## Performance Considerations

- Use Next.js Image component for optimization
- Lazy load images below the fold
- Keep animations to transforms only (x, y, scale, rotate, opacity)
- Avoid layout thrashing
- Minimize bundle size

## Accessibility

- Use semantic HTML elements
- Add ARIA labels where needed
- Ensure keyboard navigation works
- Maintain color contrast ratios
- Test with screen readers when possible

## Dependencies

### When to Add New Dependencies
Ask first, prefer:
- Built-in browser APIs
- Next.js features
- Tailwind utilities
- Existing dependencies

### Avoid
- Heavy animation libraries (we have GSAP)
- UI component libraries (we have shadcn/ui)
- Utility libraries for simple tasks

## Error Handling

- Use try/catch for async operations
- Provide user feedback for errors
- Log errors to console for debugging
- Graceful degradation for failed features

## Environment Variables

- Prefix with `NEXT_PUBLIC_` for client-side
- Never commit `.env` files
- Document all required env vars
- Provide `.env.example` template

## Browser Support

Target modern browsers:
- Chrome/Edge (last 2 versions)
- Firefox (last 2 versions)
- Safari (last 2 versions)
- Mobile browsers (iOS Safari, Chrome Mobile)

## Responsive Breakpoints

Follow Tailwind defaults:
- `sm:` - 640px
- `md:` - 768px
- `lg:` - 1024px
- `xl:` - 1280px

## Animation Guidelines

- Duration: 0.3s-1s (never longer)
- Easing: Prefer `power4.out` for smoothness
- Stagger: 0.05s-0.1s between items
- Respect `prefers-reduced-motion`
- Animations should enhance, not distract

## Code Review Checklist

Before committing:
- [ ] No console.logs (unless intentional)
- [ ] TypeScript errors resolved
- [ ] ESLint warnings addressed
- [ ] Responsive on mobile
- [ ] Works in dark mode
- [ ] Animations smooth and purposeful
- [ ] No hardcoded values that should be env vars
- [ ] Comments added where helpful
- [ ] Unused imports removed

## Documentation

Update docs when:
- Adding new major features
- Changing configuration
- Adding new dependencies
- Modifying build process
- Updating environment variables

Keep updated:
- README.md - Overview and setup
- GSAP_GUIDE.md - Animation examples
- Component-specific docs as needed
